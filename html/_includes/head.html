{% assign isPost = postTypes | includes: category %}

{% assign metatitle = meta.title %}
{% if title %}
    {% if isPost %}
        {% assign metatitle = title %}
    {% else %}
        {% assign metatitle = title | append: " â€¢ " | append: meta.title %}
    {% endif %}
{% endif %}

{% assign metadesc = desc | default: meta.desc %}

{% assign metaimg_og = meta.image.square %}
{% assign metaimg_twitter = meta.image.twitter %}

{% if category == 'blog' %}
    {% assign filePath = title | slugify | prepend: "https://binyam.in/assets/uploads/" | append: ".png" %}
    {% assign metaimg_twitter = filePath %}
{% endif %}

{% if thumbnail %}
    {% assign metaimg_twitter = thumbnail | absolute_url %}
{% endif %}

{% assign metatype = 'website' %}
{% if isPost %}
    {% assign metatype = 'article' %}
{% endif%}

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

<title>{{ metatitle }}</title>

<meta name="generator" content="Eleventy v{{meta.eleventyVersion}}">
<meta name="author" content="{{meta.author.name}}">
<meta name="description" content="{{ metadesc }}">
<meta name="keywords" content="web developer, developer, jewish, judaism, jew, front-end, designer, html, css, javascript, jamstack">
<link rel="canonical" href="{{ page.url | absolute_url }}">
{% if ignore %}<meta name="robots" content="noindex">{% endif %}

<!-- OpenGraph tags -->
<meta property="og:title" content="{{ metatitle }}">
<meta property="og:type" content="{{ metatype }}">
<meta property="og:url" content="{{ page.url | absolute_url }}">
<meta property="og:image" content="{{ metaimg_og }}">
<meta property="og:description" content="{{ metadesc }}">

<!-- Feeds -->
<link rel="alternate" title="Binyamin Green" type="application/rss+xml" href="https://binyam.in/feeds/all.xml" />
<link rel="alternate" title="Binyamin Green" type="application/feed+json" href="https://binyam.in/feeds/all.json" />
<link rel="alternate" title="Binyamin Green (articles)" type="application/rss+xml" href="https://binyam.in/feeds/blog.xml" />
<link rel="alternate" title="Binyamin Green (articles)" type="application/feed+json" href="https://binyam.in/feeds/blog.json" />
<link rel="alternate" title="Binyamin Green (microblog)" type="application/rss+xml" href="https://binyam.in/feeds/micro.xml" />
<link rel="alternate" title="Binyamin Green (microblog)" type="application/feed+json" href="https://binyam.in/feeds/micro.json" />

<link rel="webmention" href="https://webmention.io/binyam.in/webmention" />
<link rel="pingback" href="https://webmention.io/binyam.in/xmlrpc" />

<!-- Twitter tags -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@{{meta.twitterHandle}}" />
<meta name="twitter:creator" content="@{{meta.twitterHandle}}" />
<meta name="twitter:title" content="{{ metatitle }}" />
<meta name="twitter:description" content="{{ metadesc }}" />
<meta name="twitter:image" content="{{ metaimg_twitter }}" />

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.gstatic.com/">
<link rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&display=swap" />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&display=swap"
    media="print" onload="this.media='all'" />

<!-- CSS (except fonts) -->
<link rel="stylesheet" href="/css/github.min.css" />
<link rel="stylesheet" href="/css/print.css" media="print">
<link rel="stylesheet" href="/css/style.css">

<link rel="preconnect" href="https://cdn.metrical.xyz/">
